# Wikimarks


## Example: Horseshoe Crab

We provide an example of the outputs of our conversion pipeline and how we create Wikimarks for several tasks.

The topic ``Horseshoe`` crab has articles on both English Wikipedias

*  English Wikipedia [article](https://en.wikipedia.org/wiki/Horseshoe_crab)
* Simple English Wikipedia [article](https://simple.wikipedia.org/wiki/Horseshoe_crab)

We will provide outputs of these examples as generated by our conversion pipeline.

## Dump Conversion

The first phase will convert the raw Wikipedia dump into an easily-machine readable format.

1. download the Wikipedia and Wikidata dumps, 
2. parse the Wikitext format
3. resolve redirects, disambiguation pages, and categories and expose them as metadata for each article

We call the outputs of this phase "unprocessed", which is technically not true (we came to regret the name), 
but it is unprocessed in the sense that all pieces of information from the original Wikipedia article are preserved.


## Processing and Filtering

The next phase will further process the "unprocessed" dump by 

1. removing non-article pages,
2. removing administrative section headings (like "References", "See also" etc)
3. removing infoboxes and images (although the pipeline can be configured to preserve those)
4. Optionally, near-duplicate paragraphs can be deduplicated -- this can be important as there are many articles written by copying-pasting-modifying existing articles.
6. a corpus of all paragraphs across all Wikipedia articles is extracted

We call the outputs of this phase "processed".

The two example articles will look as follows

* English Wikipedia: [page in JSON](http://trec-car.cs.unh.edu/wikimarks/datareleases/horseshoe-crab.article-en.json)
* Simple English Wikipedia: [page in JSON](http://trec-car.cs.unh.edu/wikimarks/datareleases/horseshoe-crab.article-simple.json)

## Subset selection

During the next phase, different page subsets can be selected to provide a corpus of interest. 
This could be a random subset of all pages to obtain a smaller collection, or a pages within a set of categories, or articles of 
different quality levels (such as good or vital articles) or a list of pages that were manually selected, or retrieved from Wikidata's SPARQL endpoint.

See the main page for a list of [example subsets](wikimarks.html) for which subsets are provided and 
instructions for how to configure the [pipeline](code.html) to produce subsets of your choice.

We select just the article on horseshoe crabs via its Wikidata QID

```
{ name = "horseshoe-crab";
  predicate = "qid-in-set [\"Q1329239\"]";
}
```

Each subset is automatically divided into train and test splits, and each train split is provided in five folds to enable machine learning with cross-validation.


## Wikimark extraction


